{"version":3,"sources":["api/base.js","utils/http.js","api/index.js","utils/date.js","components/home/home-head/index.js","utils/touch.js","components/common/carousel/index.js","utils/scroll.js","components/home/article-list/index.js","pages/Home/index.js"],"names":["base","link","instance","axios","create","defaults","headers","post","interceptors","request","use","config","error","Promise","reject","response","getNews","get","getOlds","time","getAction","id","getLongComment","getShortComment","dateFormat","fmt","ret","date","Date","opt","getFullYear","toString","getMonth","padStart","getDate","getHours","getMinutes","getSeconds","k","RegExp","exec","replace","length","toDay","n","now","isToday","getTime","parseInt","HomeHead","hour","className","this","getDay","getHello","src","alt","onClick","props","history","push","Component","withRouter","Touch","element","cycle","startCoord","x","y","moveCoord","endCoord","isMove","init","addEventListener","e","start","move","end","event","Math","floor","touches","pageX","pageY","coord","moveX","moveY","changedTouches","direction","calcDirection","angle","atan2","PI","Carousel","state","index","Timer","oneWidth","show","React","createRef","carousel","current","clientWidth","preventDefault","passive","autoCut","clearInterval","testAssign","data","setState","valid","abs","cutIndex","transitionMove","setInterval","didIndex","cutShow","willIndex","style","transitionDuration","resetShow","setTimeout","childNodes","transform","value","key","image","ref","images","backgroundImage","image_hue","slice","title","hint","width","map","generateShow","i","Scroll","top","testObjs","document","body","onscroll","documentElement","scrollTop","test","testObj","splice","indexOf","forEach","flag","elements","clientHeight","offsetTop","callback","last","next","undefined","rect","getRect","window","innerHeight","getBoundingClientRect","clientTop","left","clientLeft","bottom","right","ArticleList","testScroll","loadArticle","addArticles","inView","getNextDay","then","res","remove","add","month","stories","parseTime","toArticle","Home","news","articles","isLoad","bool","top_stories"],"mappings":"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","file":"static/js/5.ae36b486.chunk.js","sourcesContent":["/**\r\n * @author City\r\n * @description 接口域名管理\r\n */\r\n\r\nconst base = {\r\n    link: \"/api/4/\"\r\n};\r\n\r\nexport default base;\r\n","/**\r\n * @author City\r\n * @description axios封装，请求拦截、响应拦截、错误统一处理\r\n */\r\n\r\nimport axios from \"axios\";\r\n\r\n// 创建axios实例\r\nconst instance = axios.create();\r\n// 设置post请求头\r\ninstance.defaults.headers.post[\"Content-Type\"] =\r\n    \"application/x-www-form-urlencoded\";\r\n\r\n// 添加请求拦截器\r\naxios.interceptors.request.use(\r\n    function(config) {\r\n        // 在发送请求之前做些什么\r\n        return config;\r\n    },\r\n    function(error) {\r\n        // 对请求错误做些什么\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\n// 添加响应拦截器\r\naxios.interceptors.response.use(\r\n    function(response) {\r\n        // 对响应数据做点什么\r\n        return response;\r\n    },\r\n    function(error) {\r\n        // 对响应错误做点什么\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\nexport default instance;\r\n","/**\r\n * @author City\r\n * @description api接口的通一出口\r\n */\r\n\r\nimport base from \"./base\";\r\nimport axios from \"../utils/http\";\r\n\r\n// 最新新闻\r\nexport const getNews = () => axios.get(`${base.link}stories/latest`);\r\n\r\n// 之前新闻\r\nexport const getOlds = time => axios.get(`${base.link}stories/before/${time}`);\r\n\r\n// 文章详情\r\nexport const getAction = id => axios.get(`${base.link}story/${id}`);\r\n\r\n// 长评\r\nexport const getLongComment = id => axios.get(`${base.link}story/${id}/long-comments`);\r\n\r\n// 短评\r\nexport const getShortComment = id => axios.get(`${base.link}story/${id}/short-comments`);\r\n","/**\r\n * 到时间戳\r\n *\r\n * @export\r\n * @param {Date} [time=Date.now()] 时间\r\n * @param {boolean} [isTens=false] 是否十位\r\n * @returns\r\n */\r\nexport function getUnix(time = Date.now(), isTens = false) {\r\n    if (typeof time === String) time = new Date(time);\r\n    if (typeof time === Date) time = time.getTime();\r\n    return isTens ? parseInt(time / 1000) : time;\r\n}\r\n\r\n/**\r\n * 格式化时间\r\n *\r\n * @export\r\n * @param {String} fmt 格式\r\n * @param {Date} [date=new Date()] 时间\r\n * @returns\r\n */\r\nexport function dateFormat(fmt, date = new Date()) {\r\n    if (typeof date !== Date) date = new Date(date);\r\n\r\n    let ret;\r\n    const opt = {\r\n        \"Y+\": date.getFullYear().toString(), // 年\r\n        \"m+\": (date.getMonth() + 1).toString().padStart(2, \"0\"), // 月\r\n        \"d+\": date.getDate().toString().padStart(2, \"0\"), // 日\r\n        \"H+\": date.getHours().toString().padStart(2, \"0\"), // 时\r\n        \"M+\": date.getMinutes().toString().padStart(2, \"0\"), // 分\r\n        \"S+\": date.getSeconds().toString().padStart(2, \"0\") // 秒\r\n    };\r\n    for (let k in opt) {\r\n        ret = new RegExp(\"(\" + k + \")\").exec(fmt);\r\n        if (ret) {\r\n            fmt = fmt.replace(ret[1], ret[1].length === 1 ? opt[k] : opt[k].padStart(ret[1].length, \"0\"));\r\n        }\r\n    }\r\n    return fmt;\r\n}\r\n\r\n/**\r\n * 基于现行时间，取第几天\r\n *\r\n * @export\r\n * @param {Number} n 第 n 天\r\n * @returns {Date} 基于今天的第 n 天\r\n */\r\nexport function toDay(n) {\r\n    return new Date(Date.now() + 24 * 60 * 60 * 1000 * n);\r\n}\r\n\r\n/**\r\n * 是否为今天\r\n *\r\n * @export\r\n * @param {Date/Number} time 时间/十三位时间戳\r\n * @returns\r\n */\r\nexport function isToday(time) {\r\n    time = new Date(time).getTime();\r\n    return parseInt(time / 1000 / 60 / 60 / 24) === parseInt(Date.now() / 1000 / 60 / 60 / 24);\r\n}\r\n","/**\r\n * @author City\r\n * @description 首页头部\r\n */\r\n\r\nimport React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"./main.css\";\r\n\r\nclass HomeHead extends Component {\r\n    /* Method */\r\n\r\n    getDay() {\r\n        return new Date().getDate();\r\n    }\r\n\r\n    getMonth() {\r\n        const arr = [\"一\", \"二\", \"三\", \"四\", \"五\", \"六\", \"七\", \"八\", \"九\", \"十\", \"十一\", \"十二\"];\r\n        return arr[new Date().getMonth()] + \"月\";\r\n    }\r\n\r\n    getHello() {\r\n        const hour = new Date().getHours();\r\n        if (hour < 2) {\r\n            return \"早点休息~\";\r\n        } else if (hour < 6) {\r\n            return \"凌晨好！\";\r\n        } else if (hour < 9) {\r\n            return \"早上好！\";\r\n        } else if (hour < 12) {\r\n            return \"知乎日报\";\r\n        } else if (hour < 14) {\r\n            return \"中午好！\";\r\n        } else if (hour < 19) {\r\n            return \"知乎日报\";\r\n        } else if (hour < 24) {\r\n            return \"晚上好！\";\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <header>\r\n                <div className=\"home-head-date\">\r\n                    <div className=\"home-head-day\">{this.getDay()}</div>\r\n                    <div className=\"home-head-month\">{this.getMonth()}</div>\r\n                </div>\r\n                <div className=\"home-head-hello\">{this.getHello()}</div>\r\n                <div className=\"home-head-portrait\">\r\n                    <img src=\"http://q1.qlogo.cn/g?b=qq&nk=11241066&s=100\" alt=\"头像\" onClick={() => this.props.history.push(\"/my\")} />\r\n                </div>\r\n            </header>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(HomeHead);\r\n","/**\r\n * @author City\r\n * @description 触摸手势 Touch\r\n * @todo TODO: 1.链式挂载属性   2.兼容性\r\n */\r\n\r\n/*\r\n    单击：start() -- end()\r\n    移动：start() -- move() -- end()\r\n\r\n    cycle: \r\n    {    // element: 监听元素, event: 事件对象, coord: 当前坐标, move: 移动距离, direction: 移动方向\r\n        start: ({element, event, coord:{x, y}}) => {},\r\n        move: ({element, event, coord:{x, y}}, move: {x, y}) => {},\r\n        end: ({element, event, coord:{x, y}, move: {x, y}, direction: \"top\"||\"right\"||\"bottom\"||\"left\"}) => {}\r\n    }\r\n*/\r\n\r\n/**\r\n * 移动手势\r\n *\r\n * @export\r\n * @class Touch\r\n */\r\nexport default class Touch {\r\n    /* 监听元素 生命周期 */\r\n    constructor(element, cycle) {\r\n        // listen element\r\n        this.element = element;\r\n        // cycle function {start, move, end}\r\n        this.cycle = cycle;\r\n\r\n        // start coord {x, y}\r\n        this.startCoord = { x: 0, y: 0 };\r\n        // move coord {x, y}\r\n        this.moveCoord = { x: 0, y: 0 };\r\n        // end coord {x, y}\r\n        this.endCoord = { x: 0, y: 0 };\r\n\r\n        // is move ?\r\n        this.isMove = false;\r\n\r\n        // init listen event\r\n        this.init();\r\n    }\r\n\r\n    /* add touch event */\r\n    init() {\r\n        // listen touch start\r\n        this.element.addEventListener(\"touchstart\", e => this.start(e), false);\r\n        // listen touch move\r\n        this.element.addEventListener(\"touchmove\", e => this.move(e), false);\r\n        // listen touch end\r\n        this.element.addEventListener(\"touchend\", e => this.end(e), false);\r\n    }\r\n\r\n    /* touch start callback */\r\n    start(event) {\r\n        // get start coord\r\n        const x = Math.floor(event.touches[0].pageX);\r\n        const y = Math.floor(event.touches[0].pageY);\r\n\r\n        // set start coord\r\n        this.startCoord = { x, y };\r\n\r\n        // call start cycle function\r\n        this.cycle.start && this.cycle.start({ element: this.element, event, coord: { x, y } });\r\n    }\r\n\r\n    /* touch move callback */\r\n    move(event) {\r\n        // get move coord\r\n        const x = Math.floor(event.touches[0].pageX);\r\n        const y = Math.floor(event.touches[0].pageY);\r\n\r\n        // calc to last move reason isMove\r\n        const moveX = this.isMove ? Math.floor(x - this.moveCoord.x) : 0;\r\n        const moveY = this.isMove ? Math.floor(y - this.moveCoord.y) : 0;\r\n\r\n        // move start\r\n        this.isMove = true;\r\n\r\n        // set move coord\r\n        this.moveCoord = { x, y };\r\n\r\n        // call move cycle function\r\n        this.cycle.move && this.cycle.move({ element: this.element, event, coord: { x, y }, move: { x: moveX, y: moveY } });\r\n    }\r\n\r\n    /* touch end callback */\r\n    end(event) {\r\n        // move start\r\n        this.isMove = false;\r\n\r\n        // get end coord\r\n        const x = Math.floor(event.changedTouches[0].pageX);\r\n        const y = Math.floor(event.changedTouches[0].pageY);\r\n\r\n        // set end coord\r\n        this.endCoord = { x, y };\r\n\r\n        // calc move distance\r\n        const moveX = Math.floor(x - this.startCoord.x);\r\n        const moveY = Math.floor(y - this.startCoord.y);\r\n\r\n        /* calc direction */\r\n        const direction = this.calcDirection(moveX, moveY);\r\n\r\n        // call end cycle function\r\n        this.cycle.end && this.cycle.end({ element: this.element, event, coord: { x, y }, move: { x: moveX, y: moveY }, direction });\r\n    }\r\n\r\n    /* calc direction */\r\n    calcDirection(x, y) {\r\n        // calc move angle : Math.atan2(y, x) * 180 / Math.PI\r\n        const angle = (Math.atan2(x, y) * 180) / Math.PI;\r\n\r\n        // 以 -y 轴为起点，顺时针为负，逆时针为正，至 +y 轴为中点，形成正负 180°\r\n\r\n        // calc move direction and return\r\n        if (angle < -135 || angle >= 135) {\r\n            return \"top\";\r\n        } else if (angle < 135 && angle >= 45) {\r\n            return \"right\";\r\n        } else if (angle < 45 && angle >= -45) {\r\n            return \"bottom\";\r\n        } else {\r\n            return \"left\";\r\n        }\r\n    }\r\n}\r\n","/**\r\n * @author City\r\n * @description 轮播图\r\n */\r\n\r\nimport React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"./main.css\";\r\nimport Touch from \"../../../utils/touch\";\r\n\r\nclass Carousel extends Component {\r\n    constructor() {\r\n        super();\r\n        // state\r\n        this.state = {\r\n            // current index\r\n            index: 0,\r\n            // this show dom current location\r\n            move: 0\r\n        };\r\n\r\n        // auto cut interval id\r\n        this.Timer = 0;\r\n        // one show width\r\n        this.oneWidth = 0;\r\n\r\n        // register ref\r\n        this.show = React.createRef();\r\n        this.carousel = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        // get one show width value, and set the\r\n        this.oneWidth = this.carousel.current.clientWidth;\r\n        // prevent carousel default event\r\n        this.carousel.current.addEventListener(\"touchmove\", e => e.preventDefault(), { passive: false });\r\n\r\n        // open auto cut\r\n        this.autoCut();\r\n\r\n        // register touch event\r\n        new Touch(this.show.current, {\r\n            // at the start\r\n            start: () => {\r\n                // clear auto cut index interval\r\n                clearInterval(this.Timer);\r\n                // test show assign\r\n                this.testAssign();\r\n            },\r\n            // at the move\r\n            move: data => {\r\n                // get move x value\r\n                const {\r\n                    move: { x }\r\n                } = data;\r\n\r\n                // sync calc move value\r\n                this.setState({ move: this.state.move + x });\r\n            },\r\n            // at the end\r\n            end: data => {\r\n                // get direction move x value\r\n                const {\r\n                    direction,\r\n                    move: { x }\r\n                } = data;\r\n\r\n                // calc valid value, move 1/4 as valid\r\n                const valid = this.oneWidth / 4 < Math.abs(x);\r\n\r\n                // valid and to left, cut next show chunk\r\n                if (valid && direction === \"left\") this.cutIndex(this.state.index + 1);\r\n                // valid and to right, cut last show chunk\r\n                if (valid && direction === \"right\") this.cutIndex(this.state.index - 1);\r\n                // edge case, reset\r\n                if (!valid || direction === \"top\" || direction === \"bottom\") this.transitionMove();\r\n\r\n                // open auto cut\r\n                this.autoCut();\r\n            }\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        /* clear auto cut index interval */\r\n        clearInterval(this.Timer);\r\n    }\r\n\r\n    /* Method */\r\n\r\n    /* auto cut index */\r\n    autoCut() {\r\n        this.Timer = setInterval(() => this.cutIndex(this.state.index + 1), 5000);\r\n    }\r\n\r\n    /* cut index */\r\n    cutIndex(didIndex) {\r\n        // edge processing\r\n        if (didIndex > this.props.data.length - 1) didIndex = 0;\r\n        if (didIndex < 0) didIndex = this.props.data.length - 1;\r\n\r\n        // cut show\r\n        this.cutShow(this.state.index, didIndex);\r\n\r\n        // set new index\r\n        this.setState({ index: didIndex });\r\n    }\r\n\r\n    /* cut show */\r\n    cutShow(willIndex, didIndex) {\r\n        // calc move distance\r\n        let move = -(didIndex - willIndex) * this.oneWidth;\r\n\r\n        // test show assign\r\n        this.testAssign();\r\n\r\n        // calc edge move distance\r\n        if (willIndex === 0 && didIndex === this.props.data.length - 1) move = this.oneWidth;\r\n        if (willIndex === this.props.data.length - 1 && didIndex === 0) move = -this.oneWidth;\r\n\r\n        // calc original assign and add move distance, then proceed transition move\r\n        this.transitionMove(-willIndex * this.oneWidth + move);\r\n    }\r\n\r\n    /* proceed transition move */\r\n    transitionMove(move = -this.state.index * this.oneWidth) {\r\n        // set transition duration as 500ms\r\n        this.show.current.style.transitionDuration = \"500ms\";\r\n\r\n        // change move value\r\n        this.setState({ move });\r\n\r\n        // reset show state\r\n        this.resetShow();\r\n    }\r\n\r\n    /* reset show state */\r\n    resetShow() {\r\n        // await transition finish 500ms\r\n        setTimeout(() => {\r\n            // prevent componentWillUnmount exec\r\n            if (this.carousel.current == null) return;\r\n\r\n            // set transition duration as 0s\r\n            this.show.current.style.transitionDuration = \"0s\";\r\n\r\n            // calc normal move value, and to correct assign\r\n            this.setState({ move: -this.state.index * this.oneWidth });\r\n\r\n            // reset show assign\r\n            this.show.current.childNodes[this.props.data.length - 1].style.transform = \"\";\r\n            this.show.current.childNodes[0].style.transform = \"\";\r\n        }, 500);\r\n    }\r\n\r\n    /* test assign */\r\n    testAssign() {\r\n        // while index is 0, set last as 0 left\r\n        if (this.state.index === 0)\r\n            this.show.current.childNodes[this.props.data.length - 1].style.transform = `translateX(-${this.props.data.length * this.oneWidth}px)`;\r\n\r\n        // while index is 4, set 0 as last right\r\n        if (this.state.index === 4) this.show.current.childNodes[0].style.transform = `translateX(${this.props.data.length * this.oneWidth}px)`;\r\n    }\r\n\r\n    /* Generate DOM */\r\n\r\n    generateShow(value) {\r\n        return (\r\n            <li key={value.id} onClick={() => this.props.history.push(\"/article/\" + value.id)}>\r\n                <img src={value.image} alt=\"value.title\" ref={this.images} />\r\n                <div className=\"car-shadow\" style={{ backgroundImage: `linear-gradient(rgba(255, 255, 255, 0), #${value.image_hue.slice(2)} 60%)` }}>\r\n                    <div className=\"car-content\">\r\n                        <h2>{value.title}</h2>\r\n                        <div>{value.hint}</div>\r\n                    </div>\r\n                </div>\r\n            </li>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const { index, move } = this.state;\r\n        const { data } = this.props;\r\n\r\n        return (\r\n            <div className=\"carousel\" ref={this.carousel}>\r\n                <ul\r\n                    className=\"car-show\"\r\n                    ref={this.show}\r\n                    style={{ width: data && this.oneWidth * data.length + \"px\", transform: `translateX(${move}px)` }}\r\n                >\r\n                    {data && data.map(value => this.generateShow(value))}\r\n                </ul>\r\n                <ul className=\"car-nav\">\r\n                    {data &&\r\n                        data.map((value, i) => {\r\n                            return <li key={value.id} className={i === index ? \"cut\" : null}></li>;\r\n                        })}\r\n                </ul>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(Carousel);\r\n","/**\r\n * 文档滚动任务管理\r\n *\r\n * @class TestScroll\r\n */\r\nclass TestScroll {\r\n    constructor() {\r\n        this.top = 0;\r\n        this.testObjs = [];\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        document.body.onscroll = () => {\r\n            this.top = document.documentElement.scrollTop;\r\n            this.test();\r\n        };\r\n    }\r\n\r\n    /**\r\n     * 普通任务：\r\n     * function\r\n     * ||\r\n     * 楼层管理：\r\n     * Object: {\r\n     *      \"callback\": function () {},\r\n     *      \"elements\": li,\r\n     *      \"index\": 0\r\n     * }\r\n     */\r\n    // add testObj\r\n    add(testObj) {\r\n        if (typeof testObj === \"function\") {\r\n            this.testObjs.push(testObj);\r\n        } else {\r\n            testObj.index = 0;\r\n            this.testObjs.push(testObj);\r\n        }\r\n    }\r\n\r\n    // remove testObj\r\n    remove(testObj) {\r\n        this.testObjs.splice(this.testObjs.indexOf(testObj), 1);\r\n    }\r\n\r\n    // test testObj\r\n    test() {\r\n        this.testObjs.forEach(value => {\r\n            if (typeof value == \"function\") {\r\n                /* 普通任务 */\r\n                value(this.top);\r\n            } else {\r\n                /* 元素楼层 */\r\n                let flag = true;\r\n\r\n                for (let i = 0; i < value.elements.length; i++) {\r\n                    const element = value.elements[i];\r\n\r\n                    if (this.top < element.clientHeight + element.offsetTop && this.top > element.offsetTop) {\r\n                        if (value.index !== i) {\r\n                            value.callback(\r\n                                {\r\n                                    last: value.elements[value.index],\r\n                                    next: value.elements[i]\r\n                                },\r\n                                {\r\n                                    last: value.index,\r\n                                    next: i\r\n                                }\r\n                            );\r\n                            value.index = i;\r\n                        }\r\n\r\n                        flag = false;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (flag) {\r\n                    value.index = undefined;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    // 完全处于视口\r\n    allInView(element) {\r\n        const rect = this.getRect(element);\r\n        return (\r\n            rect.top + element.clientHeight <= (window.innerHeight || document.documentElement.clientWidth || document.body.clientWidth) &&\r\n            rect.top >= 0\r\n        );\r\n    }\r\n\r\n    // 处于视口\r\n    inView(element) {\r\n        const rect = this.getRect(element);\r\n        return (\r\n            rect.top <= (window.innerHeight || document.documentElement.clientWidth || document.body.clientWidth) &&\r\n            rect.top + element.clientHeight > 0\r\n        );\r\n    }\r\n\r\n    // 获取元素基于视口坐标\r\n    getRect(element) {\r\n        /* 剔除边框 */\r\n        const rect = element.getBoundingClientRect();\r\n        const top = document.documentElement.clientTop;\r\n        const left = document.documentElement.clientLeft;\r\n\r\n        return {\r\n            top: rect.top - top,\r\n            bottom: rect.bottom - top,\r\n            left: rect.left - left,\r\n            right: rect.right - left\r\n        };\r\n    }\r\n}\r\n\r\nconst Scroll = new TestScroll();\r\n\r\nexport default Scroll;\r\n","/**\r\n * @author City\r\n * @description 文章列表\r\n */\r\n\r\nimport React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"./main.css\";\r\n\r\n/* 引入工具 */\r\nimport { getOlds } from \"../../../api/index\";\r\nimport Scroll from \"../../../utils/scroll\";\r\nimport { dateFormat, toDay } from \"../../../utils/date\";\r\n\r\nclass ArticleList extends Component {\r\n    constructor() {\r\n        super();\r\n        this.element = React.createRef();\r\n        this.testScroll = null;\r\n    }\r\n\r\n    componentDidMount() {\r\n        /* 请求数据 */\r\n        const { loadArticle, addArticles, n } = this.props;\r\n\r\n        this.testScroll = () => {\r\n            /* 任务函数 */\r\n            if (Scroll.inView(this.element.current)) {\r\n                /* 当前列表出现在视图，渲染下一列表 */\r\n                getOlds(this.getNextDay(n())).then(res => {\r\n                    addArticles(res.data);\r\n                    loadArticle(true);\r\n                });\r\n                /* 删除任务 */\r\n                Scroll.remove(this.testScroll);\r\n            }\r\n        };\r\n        /* 加入滚动任务 */\r\n        Scroll.add(this.testScroll);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        /* 删除滚动任务 */\r\n        Scroll.remove(this.testScroll);\r\n    }\r\n\r\n    /* Method */\r\n\r\n    /* 解析日报时间 */\r\n    parseTime(time) {\r\n        const month = time.slice(4, 6);\r\n\r\n        return `${month.slice(0, 1) === \"0\" ? month.slice(1) : month} 月 ${time.slice(6)} 日`;\r\n    }\r\n\r\n    /* 获取后n天 */\r\n    getNextDay(n) {\r\n        return dateFormat(\"Ymd\", toDay(-n));\r\n    }\r\n\r\n    /* 跳转文章详情 */\r\n    toArticle(id) {\r\n        this.props.history.push(\"/article/\" + id);\r\n    }\r\n\r\n    render() {\r\n        const { time, stories } = this.props;\r\n\r\n        return (\r\n            <div className=\"article-list\" ref={this.element}>\r\n                {/* 日报时间 */}\r\n                {time && (\r\n                    <p>\r\n                        <span>{this.parseTime(time)}</span>\r\n                        <i></i>\r\n                    </p>\r\n                )}\r\n                {/* 日报列表 */}\r\n                <ul>\r\n                    {stories &&\r\n                        stories.map(value => {\r\n                            return (\r\n                                <li key={value.id} onClick={() => this.toArticle(value.id)}>\r\n                                    <div className=\"article-list-left\">\r\n                                        <h3>{value.title}</h3>\r\n                                        <p>{value.hint}</p>\r\n                                    </div>\r\n                                    <div className=\"article-list-right\">\r\n                                        <img src={value.images[0]} alt={value.title} />\r\n                                    </div>\r\n                                </li>\r\n                            );\r\n                        })}\r\n                </ul>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(ArticleList);\r\n","/**\r\n * @author City\r\n * @description 首页\r\n */\r\n\r\nimport React, { Component } from \"react\";\r\nimport \"./main.css\";\r\nimport { getNews } from \"../../api/index\";\r\n\r\n/* 组件 */\r\nimport HomeHead from \"../../components/home/home-head/index\";\r\nimport Carousel from \"../../components/common/carousel/index\";\r\nimport ArticleList from \"../../components/home/article-list/index\";\r\n\r\nexport default class Home extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            news: {},\r\n            articles: []\r\n        };\r\n        this.isLoad = true;\r\n        this.n = 0;\r\n    }\r\n\r\n    componentDidMount() {\r\n        getNews().then(res => {\r\n            this.setState({\r\n                news: res.data\r\n            });\r\n        });\r\n    }\r\n\r\n    loadArticle(bool = null) {\r\n        if (bool === null) return this.isLoad;\r\n        this.isLoad = bool;\r\n    }\r\n\r\n    addArticles(data) {\r\n        this.setState({\r\n            articles: [...this.state.articles, data]\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { news, articles } = this.state;\r\n        return (\r\n            <div className=\"home\">\r\n                <HomeHead></HomeHead>\r\n                <Carousel data={news.top_stories}></Carousel>\r\n                <div className=\"home-article\">\r\n                    <ArticleList\r\n                        key=\"today\"\r\n                        loadArticle={e => this.loadArticle(e)}\r\n                        addArticles={e => this.addArticles(e)}\r\n                        n={() => this.n++}\r\n                        stories={news.stories}\r\n                    ></ArticleList>\r\n                    {articles &&\r\n                        articles.map(value => (\r\n                            <ArticleList\r\n                                key={value.date}\r\n                                loadArticle={e => this.loadArticle(e)}\r\n                                addArticles={e => this.addArticles(e)}\r\n                                n={() => this.n++}\r\n                                time={value.date}\r\n                                stories={value.stories}\r\n                            ></ArticleList>\r\n                        ))}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"],"sourceRoot":""}